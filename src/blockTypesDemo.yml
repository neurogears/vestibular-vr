%YAML 1.1
---
# yaml-language-server: $schema=schema.json

metadata:
  animalId: plimbo
  rootPath: D:/TrialLogicTestData/
  runGain: 0.0008

motorSettings:
  nominalPulseInterval: 200
  initialPulseInterval: 200
  pulseStepInterval: 2
  pulsePeriod: 10

blocks: [
  &DrumClosedLoop
  {
    alias: DrumBase,
    stimulus: {
      type: "grating",
      offset1: 0,
      offset2: 0,
      extent1: 360,
      extent2: 0
    },
    haltProtocol: {
      minumumDelay: 0.1,
      randomDelay: 1.5,
      haltTime: 2,
      haltGain: 0
    },
    totalRuntime: 30,
    flowYToVisualGain: 0,
    flowYToMotorGain: 5000
  },
  &LinearClosedLoopMismatch
  {
    <<: *LinearClosedLoop,
    alias: LinearClosedLoopMismatch,
    haltProbability: 0.8,
    totalRuntime: 120
  },
  &Linear
  {
    alias: BaseLinear,
    stimulus: {
      type: "grating",
      offset1: -90,
      offset2: 90
    },
    haltProtocol: {
      minumumDelay: 0.1,
      randomDelay: 1.5,
      haltTime: 2,
      haltGain: 0
    },
    totalRuntime: 10
  },
  &LinearClosedLoopMismatch
  {
    <<: *LinearClosedLoop,
    alias: LinearClosedLoopMismatch,
    haltProbability: 0.5,
  },
  &LinearClosedLoop
  {
    <<: *Linear,
    alias: LinearClosedLoop,
    stimulus: {
      type: grating,
      spatialFrequency: 0.5
    },
    runThreshold: 100,
    decayTimestep: 0.1,
    runThresholdDecay: -1,
    flowXToVisualGain: 1
  },
  &LinearClosedLoopPlayback
  {
    <<: *LinearClosedLoop,
    alias: LinearClosedLoopPlayback,
    flowXToVisualGain: 0,
    playbackToVisualGain: 1
  }
]